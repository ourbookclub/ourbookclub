(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){e.exports=a(251)},133:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(123),s=a.n(l),o=(a(133),a(4)),c=a(6),i=a(8),m=a(7),u=a(9),h="/",d=a(254),p=a(253),f=r.a.createContext(null),b=function(e){return function(t){return r.a.createElement(f.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))})}},E=f,v=a(63),g=a.n(v);a(181);a(183).config();var w={apiKey:"AIzaSyCMyDSEy4LJVeLqvdXhS9zNGY7sTlz2vLI",authDomain:"club-bookworm.firebaseapp.com",databaseURL:"https://club-bookworm.firebaseio.com",projectId:"club-bookworm",storageBucket:"club-bookworm.appspot.com",messagingSenderId:"610111063127"},N=function e(){var t=this;Object(o.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return g.a.auth().currentUser.updatePassword(e)},g.a.initializeApp(w),this.auth=g.a.auth()},y=a(17),O=a(94),j=a.n(O),C=a(14),S=a(124),k=a(255),P=a(252),U=a(18),x=a(126),A=a.n(x),F=function(e){return function(t){var a=function(a){function n(){return Object(o.a)(this,n),Object(i.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(u.a)(n,a),Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(a){e(a)||t.props.history.push("/signin")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(t,this.props)}}]),n}(r.a.Component);return Object(U.a)(k.a,b)(a)}},I={width:"50%",height:"40px"},W={email:"",error:null},D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then(function(){a.setState(Object(C.a)({},W)),a.props.history.push(h)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.state=Object(C.a)({},W),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{className:"form-horizontal",onSubmit:this.onSubmit},a&&r.a.createElement("p",null,a.message),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-input",style:I,name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"})),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",disabled:n,type:"submit"},"Reset Password")))}}]),t}(n.Component),z=function(){return r.a.createElement("p",null,r.a.createElement(P.a,{to:"/passwordreset"},r.a.createElement("button",{className:"btn btn-success"},"Forgot Password?")))},L=F(function(e){return!!e})(function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Password Reset"),r.a.createElement("br",null),r.a.createElement(B,null))}),B=Object(U.a)(k.a,b)(D),R={width:"50%",height:"40px"},J={marginBottom:"0px"},M={email:"",password:"",error:null},T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).then(function(){a.setState(Object(C.a)({},M)),a.props.history.push(h)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.state=Object(C.a)({},M),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,l=""===a||""===t;return r.a.createElement("div",null,r.a.createElement("br",null),n&&r.a.createElement("p",null,n.message),r.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",style:J,htmlFor:"email"},"Email:")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",style:R,type:"text",name:"email",placeholder:"email",value:this.state.email,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",style:J,htmlFor:"password"},"Password: ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",style:R,placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",disabled:l,type:"submit"},"Login"))),r.a.createElement(z,null))}}]),t}(n.Component),q=Object(U.a)(k.a,b)(T),G=function(){return r.a.createElement("p",null,"Already have an account? ",r.a.createElement(P.a,{to:"/signin"},r.a.createElement("button",{className:"btn btn-success"},"Sign In")))},K=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"SignIn"),r.a.createElement(q,null),r.a.createElement(Q,null))},V={width:"50%",height:"40px"},X={marginBottom:"0px"},Y={username:"",password:"",confirmPassword:"",email:"",firstname:"",lastname:"",redirectTo:null,error:null},$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(){var e=Object(S.a)(j.a.mark(function e(t){var n,r,l,s,o,c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.username,l=n.email,s=n.password,o=n.firstname,c=n.lastname,e.next=4,A.a.post("/api/newuser",{username:r,email:l,firstname:o,lastname:c});case 4:if(200!==e.sent.status){e.next=7;break}return e.abrupt("return",a.props.firebase.doCreateUserWithEmailAndPassword(l,s).then(function(e){a.setState(Object(C.a)({},Y)),a.props.history.push("/")}).catch(function(e){console.log(e),a.setState({error:e})}));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.state=Object(C.a)({},Y),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,l=e.passwordTwo,s=e.firstname,o=e.lastname,c=e.error,i=n!==l||""===n||""===a||""===t||""===s||""===o;return r.a.createElement("div",{className:"SignupForm"},r.a.createElement("br",null),c&&r.a.createElement("p",null,c.message),r.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"email",style:X},"Email: ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",style:V,type:"text",id:"email",name:"email",placeholder:"email",value:this.state.email,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"password",style:X},"Password: ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",style:V,placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"confirmPassword",style:X},"Confirm Password: ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",style:V,placeholder:"Confirm Password",type:"password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"username",style:X},"Username: ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",style:V,placeholder:"username",type:"username",name:"username",value:this.state.username,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"firstname",style:X},"First Name: ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",style:V,placeholder:"firstname",type:"firstname",name:"firstname",value:this.state.firstname,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",htmlFor:"lastname",style:X},"Last Name: ")),r.a.createElement("div",{className:"col-3 col-mr-auto"},r.a.createElement("input",{className:"form-input",style:V,placeholder:"lastname",type:"lastname",name:"lastname",value:this.state.lastname,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{disabled:i,className:"btn btn-primary col-1 col-mr-auto",type:"submit"},"Sign Up"))))}}]),t}(n.Component),H=Object(U.a)(k.a,b)($),Q=function(){return r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(P.a,{to:"/signup"},r.a.createElement("button",{className:"btn btn-success"},"Sign Up")))},Z=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"SignUp"),r.a.createElement(H,null),r.a.createElement(G,null))},_=(a(250),b(function(e){var t=e.firebase;return r.a.createElement("button",{className:"btn btn-link",onClick:t.doSignOut},"Sign Out")})),ee=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",{className:"navbar App-header",id:"nav-container"},r.a.createElement("div",{className:"col-4"},this.props.authUser?r.a.createElement("section",{className:"navbar-section"},r.a.createElement(_,null),r.a.createElement(P.a,{to:"/passwordchange",className:"btn btn-link"},r.a.createElement("span",{className:"text-secondary"},"Update Password"))):r.a.createElement("section",{className:"navbar-section"},r.a.createElement(P.a,{to:"/signin",className:"btn btn-link"},r.a.createElement("span",{className:"text-secondary"},"Sign In")),r.a.createElement(P.a,{to:"/signup",className:"btn btn-link"},r.a.createElement("span",{className:"text-secondary"},"sign up")))),r.a.createElement("div",{className:"col-4 col-mr-auto"},r.a.createElement("div",{id:"top-filler"}),r.a.createElement("h1",{className:"App-title"},"Bookworm"))))}}]),t}(n.Component),te=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"It's good to be home"),r.a.createElement("img",{style:{width:400},alt:"Earthworm Jim and his book",src:"../img/1550080499329.png"}))}}]),t}(n.Component),ae=F(function(e){return!!e})(te),ne={width:"50%",height:"40px"},re={marginBottom:"0px"},le={password:"",passwordConfirm:"",error:null},se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state.password;a.props.firebase.doPasswordUpdate(t).then(function(){a.setState(Object(C.a)({},le)),a.props.history.push(h)}).catch(function(e){a.setState({error:e})})},a.onChange=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.state=Object(C.a)({},le),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.password,a=e.passwordConfirm,n=e.error,l=t!==a||""===t;return r.a.createElement("form",{className:"form-horizontal",onSubmit:this.onSubmit},n&&r.a.createElement("p",null,n.message),r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",style:re,htmlFor:"password"},"New Password:")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-input",style:ne,name:"password",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"})),r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",style:re,htmlFor:"passwordConfirm"},"Confirm Password:")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-input",style:ne,name:"passwordConfirm",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"})),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",disabled:l,type:"submit"},"Update Password")))}}]),t}(n.Component),oe=Object(U.a)(k.a,b)(se),ce=F(function(e){return!!e})(function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Profile Page"),r.a.createElement(B,null),r.a.createElement(oe,null))}),ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={authUser:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(ee,{authUser:this.state.authUser}),this.state.authUser&&r.a.createElement("p",null,"Join the party, ",this.state.authUser.email,"!"),r.a.createElement(p.a,{exact:!0,path:"/",component:ae}),r.a.createElement(p.a,{path:"/signin",render:function(){return r.a.createElement(K,null)}}),r.a.createElement(p.a,{path:"/signup",render:function(){return r.a.createElement(Z,null)}}),r.a.createElement(p.a,{path:"/passwordreset",render:function(){return r.a.createElement(L,null)}}),r.a.createElement(p.a,{path:"/passwordchange",render:function(){return r.a.createElement(oe,null)}}),r.a.createElement(p.a,{path:"/userprofile",render:function(){return r.a.createElement(ce,null)}})))}}]),t}(n.Component),me=b(ie),ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function he(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(r.a.createElement(E.Provider,{value:new N},r.a.createElement(me,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");ue?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):he(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):he(e)})}}()}},[[128,1,2]]]);
//# sourceMappingURL=main.68b7e928.chunk.js.map