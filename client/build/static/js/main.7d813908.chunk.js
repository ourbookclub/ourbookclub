(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){e.exports=a(260)},141:function(e,t,a){},258:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(131),l=a.n(s),o=(a(141),a(1)),c=a.n(o),i=a(9),u=a(4),m=a(5),p=a(7),d=a(6),h=a(8),b="/",f=a(263),g=a(262),v=n.a.createContext(null),E=function(e){return function(t){return n.a.createElement(v.Consumer,null,function(a){return n.a.createElement(e,Object.assign({},t,{firebase:a}))})}},k=v,N=a(66),y=a.n(N);a(191);a(193).config();var w={apiKey:"AIzaSyCMyDSEy4LJVeLqvdXhS9zNGY7sTlz2vLI",authDomain:"club-bookworm.firebaseapp.com",databaseURL:"https://club-bookworm.firebaseio.com",projectId:"club-bookworm",storageBucket:"club-bookworm.appspot.com",messagingSenderId:"610111063127"},O=function e(){var t=this;Object(u.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return y.a.auth().currentUser.updatePassword(e)},y.a.initializeApp(w),this.auth=y.a.auth()},j=a(10),S=a.n(j),C=a(12),D=a(11),x=a(264),I=a(261),U=a(22),B=function(e){return function(t){var a=function(a){function r(){return Object(u.a)(this,r),Object(p.a)(this,Object(d.a)(r).apply(this,arguments))}return Object(h.a)(r,a),Object(m.a)(r,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(a){e(a)||t.props.history.push("/signin")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return n.a.createElement(t,this.props)}}]),r}(n.a.Component);return Object(U.a)(x.a,E)(a)}},P={width:"50%",height:"40px"},A={email:"",error:null},F=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then(function(){a.setState(Object(D.a)({},A)),a.props.history.push(b)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.state=Object(D.a)({},A),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,r=""===t;return n.a.createElement("form",{className:"form-horizontal",onSubmit:this.onSubmit},a&&n.a.createElement("p",null,a.message),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{className:"form-input",style:P,name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"})),n.a.createElement("div",{className:"form-group "},n.a.createElement("div",{className:"col-7"}),n.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",disabled:r,type:"submit"},"Reset Password")))}}]),t}(r.Component),M=function(){return n.a.createElement("p",null,n.a.createElement(I.a,{to:"/passwordreset"},n.a.createElement("button",{className:"btn btn-success"},"Forgot Password?")))},V=B(function(e){return!!e})(function(){return n.a.createElement("div",null,n.a.createElement("h3",null,"Password Reset"),n.a.createElement("br",null),n.a.createElement(z,null))}),z=Object(U.a)(x.a,E)(F),G={width:"50%",height:"40px"},L={marginBottom:"0px"},T={email:"",password:"",error:null},W=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,r=t.email,n=t.password;a.props.firebase.doSignInWithEmailAndPassword(r,n).then(Object(i.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState(Object(D.a)({},T)),a.props.history.push(b);case 2:case"end":return e.stop()}},e,this)}))).catch(function(e){a.setState({error:e})})},a.state=Object(D.a)({},T),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,r=e.error,s=""===a||""===t;return n.a.createElement("div",null,n.a.createElement("br",null),r&&n.a.createElement("p",null,r.message),n.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",style:L,htmlFor:"email"},"Email:")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:G,type:"text",name:"email",placeholder:"email",value:this.state.email,onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",style:L,htmlFor:"password"},"Password: ")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:G,placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group "},n.a.createElement("div",{className:"col-7"}),n.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",disabled:s,type:"submit"},"Login"))),n.a.createElement(M,null))}}]),t}(r.Component),_=Object(U.a)(x.a,E)(W),R=function(){return n.a.createElement("p",null,"Already have an account? ",n.a.createElement(I.a,{to:"/signin"},n.a.createElement("button",{className:"btn btn-success"},"Sign In")))},$=function(){return n.a.createElement("div",null,n.a.createElement("h3",null,"SignIn"),n.a.createElement(_,null),n.a.createElement(K,null))},J={width:"50%",height:"40px"},Z={marginBottom:"0px"},q={username:"",password:"",confirmPassword:"",email:"",firstname:"",lastname:"",redirectTo:null,error:null,emailValid:!1,passwordValid:!1,usernameValid:!1,validMessage:[]},Y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(){var e=Object(i.a)(c.a.mark(function e(t){var r,n,s,l,o,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.checkValidInput()){e.next=9;break}return r=a.state,n=r.username,s=r.email,l=r.password,o=r.firstname,i=r.lastname,e.next=5,S.a.post("/api/newuser",{username:n,email:s,firstname:o,lastname:i});case 5:if(200!==e.sent.status){e.next=8;break}return e.abrupt("return",a.props.firebase.doCreateUserWithEmailAndPassword(s,l).then(function(e){a.setState(Object(D.a)({},q)),a.props.history.push(b)}).catch(function(e){console.log(e),a.setState({error:e})}));case 8:case 9:case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target.name,r=e.target.value;a.setState(Object(C.a)({},e.target.name,e.target.value),function(){return a.validateForm(t,r)})},a.checkValidInput=function(){var e=0,t=[];return a.state.emailValid||(e++,t.push("Email entered is invalid")),a.state.usernameValid||(e++,t.push("Please ensure username is at least 3 characters, no more than 16 and only contains letters, numbers, underscores and dashes")),a.state.passwordValid||(e++,t.push("Password must be at least 6 characters in length and contain no spaces")),!(e>0)||(a.setState({validMessage:t}),!1)},a.validateForm=function(e,t){var r;switch(e){case"email":r=!!t.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),a.setState({emailValid:r});break;case"password":var n=t.length>=6,s=t.match(/^\S*$/);r=!(!n||!s),a.setState({passwordValid:r});break;case"username":var l=t.match(/^([a-z0-9-_])+$/i),o=t.length>=3&&t.length<=16;r=!(!l||!o),a.setState({usernameValid:r})}},a.state=Object(D.a)({},q),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,r=e.passwordOne,s=e.passwordTwo,l=e.firstname,o=e.lastname,c=e.error,i=e.validMessage,u=r!==s||""===r||""===a||""===l||""===o||t.length<3||r<6;return n.a.createElement("div",{className:"SignupForm"},n.a.createElement("br",null),c&&n.a.createElement("p",null,c.message),i&&i.map(function(e,t){return n.a.createElement("p",{key:t},e)}),n.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",htmlFor:"email",style:Z},"Email ")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:J,type:"text",id:"email",name:"email",placeholder:"ex. janedoe@email.com",value:this.state.email,onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",htmlFor:"password",style:Z},"Password",n.a.createElement("br",null),"(Must be at least 6 characters with no spaces) ")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:J,placeholder:"Password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",htmlFor:"confirmPassword",style:Z},"Confirm Password ")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:J,placeholder:"Confirm Password",type:"password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",htmlFor:"username",style:Z},"Username",n.a.createElement("br",null),"(Must be at least 3 characters, no more than 16, no special characters & no spaces)")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:J,placeholder:"ex. JaneDoe14",type:"username",name:"username",value:this.state.username,onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",htmlFor:"firstname",style:Z},"First Name: ")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:J,placeholder:"ex. Jane",type:"firstname",name:"firstname",value:this.state.firstname,onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",htmlFor:"lastname",style:Z},"Last Name: ")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:J,placeholder:"ex. Doe",type:"lastname",name:"lastname",value:this.state.lastname,onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group "},n.a.createElement("div",{className:"col-7"}),n.a.createElement("button",{disabled:u,className:"btn btn-primary col-1 col-mr-auto",type:"submit"},"Sign Up"))))}}]),t}(r.Component),H=Object(U.a)(x.a,E)(Y),K=function(){return n.a.createElement("p",null,"Don't have an account? ",n.a.createElement(I.a,{to:"/signup"},n.a.createElement("button",{className:"btn btn-success"},"Sign Up")))},X=function(){return n.a.createElement("div",null,n.a.createElement("h3",null,"SignUp"),n.a.createElement(H,null),n.a.createElement(R,null))},Q=(a(258),E(function(e){var t=e.firebase;return n.a.createElement("button",{className:"btn btn-link",onClick:t.doSignOut},"Sign Out")})),ee=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("img",{style:{width:200},alt:"Earthworm Jim and his book",src:"../img/1550080499329.png"}))}}]),t}(r.Component),te=function(){return n.a.createElement(I.a,{to:b},n.a.createElement("button",{className:"btn btn-link"},"Home"))},ae=B(function(e){return!!e})(ee),re=function(e){return n.a.createElement("div",null,n.a.createElement("header",{className:"navbar App-header",id:"nav-container"},n.a.createElement("div",{className:"col-4"},e.authUser?n.a.createElement("section",{className:"navbar-section"},n.a.createElement(te,null),n.a.createElement(I.a,{to:"/creategroup",className:"btn btn-link"},"Create a Club"),n.a.createElement(Q,null)):n.a.createElement("section",{className:"navbar-section"},n.a.createElement(I.a,{to:"/signin",className:"btn btn-link"},n.a.createElement("span",{className:"text-secondary"},"Sign In")),n.a.createElement(I.a,{to:"/signup",className:"btn btn-link"},n.a.createElement("span",{className:"text-secondary"},"sign up")))),n.a.createElement("div",{className:"col-4 col-mr-auto"},n.a.createElement("div",{id:"top-filler"}),n.a.createElement("h1",{className:"App-title"},"Bookworm"))))},ne={width:"50%",height:"40px"},se={marginBottom:"0px"},le={password:"",passwordConfirm:"",error:null,passwordValid:!1,validMessage:[]},oe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){if(e.preventDefault(),a.checkValidInput()){var t=a.state.password;a.props.firebase.doPasswordUpdate(t).then(function(){a.setState(Object(D.a)({},le)),a.props.history.push(b)}).catch(function(e){a.setState({error:e})})}},a.handleChange=function(e){var t=e.target.name,r=e.target.value;a.setState(Object(C.a)({},e.target.name,e.target.value),function(){return a.validateForm(t,r)})},a.checkValidInput=function(){var e=0,t=[];return a.state.passwordValid||(e++,t.push("Password must be at least 6 characters in length and contain no spaces")),!(e>0)||(a.setState({validMessage:t}),!1)},a.validateForm=function(e,t){var r,n=t.length>=6,s=t.match(/^\S*$/);r=!(!n||!s),a.setState({passwordValid:r})},a.state=Object(D.a)({},le),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.password,a=e.passwordConfirm,r=e.error,s=e.validMessage,l=t!==a||""===t;return n.a.createElement("div",null,n.a.createElement("h3",null,"Update Password:"),n.a.createElement("br",null),s&&s.map(function(e,t){return n.a.createElement("p",{key:t},e)}),n.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},r&&n.a.createElement("p",null,r.message),n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",style:se,htmlFor:"password"},"New Password:")),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{className:"form-input",style:ne,name:"password",value:t,onChange:this.handleChange,type:"password",placeholder:"New Password"})),n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",style:se,htmlFor:"passwordConfirm"},"Confirm Password:")),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{className:"form-input",style:ne,name:"passwordConfirm",value:a,onChange:this.handleChange,type:"password",placeholder:"Confirm New Password"})),n.a.createElement("div",{className:"form-group "},n.a.createElement("div",{className:"col-7"}),n.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",disabled:l,type:"submit"},"Update Password"))))}}]),t}(r.Component),ce=B(function(e){return!!e})(Object(U.a)(x.a,E)(oe)),ie={width:"25%",height:"40px"},ue={marginBottom:"0px"},me={username:"",email:"",firstname:"",lastname:"",emailValid:!1,usernameValid:!1,validMessage:""},pe={dbUsername:"",dbEmail:"",dbFirstname:"",dbLastname:"",isCurrentUser:!1},de=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).checkCurrentUser=function(e){a.props.userID===e&&a.setState({isCurrentUser:!0})},a.updatedProfile=function(){a.getUserData(a.props.match.params.userID)},a.getUserData=function(){var e=Object(i.a)(c.a.mark(function e(t){var r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/getuserbyid/".concat(t));case 2:200===(r=e.sent).status&&a.setState({dbUsername:r.data.local.username,dbEmail:r.data.local.email,dbFirstname:r.data.local.firstname,dbLastname:r.data.local.lastname});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state=Object(D.a)({},pe),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userID;this.getUserData(e),this.checkCurrentUser(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.match.params.userID!==e.match.params.userID||this.props.userID!==e.userID){var t=this.props.match.params.userID;this.getUserData(t),this.checkCurrentUser(t)}}},{key:"render",value:function(){var e=this.state,t=e.isCurrentUser,a=e.dbUsername,s=e.dbEmail,l=e.dbFirstname,o=e.dbLastname;return n.a.createElement("div",null,n.a.createElement("h1",null,this.state.dbUsername,"'s Profile"),n.a.createElement("div",null,"Username: ",a),n.a.createElement("div",null,"Email: ",s),n.a.createElement("div",null,"Firstname: ",l),n.a.createElement("div",null,"Lastname: ",o),t&&n.a.createElement(r.Fragment,null,n.a.createElement(he,{userID:this.props.userID,updatedProfile:this.updatedProfile}),n.a.createElement("br",null),n.a.createElement(ce,null)))}}]),t}(r.Component),he=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(){var e=Object(i.a)(c.a.mark(function e(t){var r,n,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.checkValidInput(t)){e.next=9;break}return r=a.state[t],n=a.props.userID,s=t,e.next=6,S.a.put("/api/updateuser",{userID:n,value:r,request:s});case 6:200===e.sent.status&&(a.props.updatedProfile(),a.setState(Object(D.a)({},me)));case 9:case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target.name,r=e.target.value;a.setState(Object(C.a)({},e.target.name,e.target.value),function(){return a.validateForm(t,r)})},a.validateForm=function(e,t){var r;switch(e){case"email":r=!!t.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),a.setState({emailValid:r});break;case"username":var n=t.match(/^([a-z0-9-_])+$/i),s=t.length>=3&&t.length<=16;r=!(!n||!s),a.setState({usernameValid:r})}},a.checkValidInput=function(e){return"email"!==e||a.state.emailValid?!("username"===e&&!a.state.usernameValid)||(a.setState({validMessage:"Please ensure username is at least 3 characters, no more than 16 and only contains letters, numbers, underscores and dashes"}),!1):(a.setState({validMessage:"Email entered is invalid"}),!1)},a.state=Object(D.a)({},me),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,r=t.email,s=t.firstname,l=t.lastname,o=t.validMessage,c=""===a,i=""===r,u=""===s,m=""===l;return n.a.createElement("div",{className:"form-group"},o&&n.a.createElement("p",null,o),n.a.createElement("br",null),n.a.createElement("label",{style:ue},"Username:"),n.a.createElement("input",{className:"form-input",style:ie,type:"text",name:"username",placeholder:"Update Username",value:a,onChange:this.handleChange}),n.a.createElement("button",{className:"btn btn-primary",disabled:c,onClick:function(){return e.handleSubmit("username")}},"Update Username"),n.a.createElement("br",null),n.a.createElement("label",{style:ue},"Email:"),n.a.createElement("input",{className:"form-input",style:ie,type:"text",name:"email",placeholder:"Update Email",value:r,onChange:this.handleChange}),n.a.createElement("button",{className:"btn btn-primary",disabled:i,onClick:function(){return e.handleSubmit("email")}},"Update Email"),n.a.createElement("br",null),n.a.createElement("label",{style:ue},"First Name:"),n.a.createElement("input",{className:"form-input",style:ie,type:"text",name:"firstname",placeholder:"Update Firstname",value:s,onChange:this.handleChange}),n.a.createElement("button",{className:"btn btn-primary",disabled:u,onClick:function(){return e.handleSubmit("firstname")}},"Update Firstname"),n.a.createElement("br",null),n.a.createElement("label",{style:ue},"Last Name:"),n.a.createElement("input",{className:"form-input",style:ie,type:"text",name:"lastname",placeholder:"Update Lastname",value:l,onChange:this.handleChange}),n.a.createElement("button",{className:"btn btn-primary",disabled:m,onClick:function(){return e.handleSubmit("lastname")}},"Update Lastname"),n.a.createElement("br",null))}}]),t}(r.Component),be=B(function(e){return!!e})(de),fe={width:"50%",height:"40px"},ge={marginBottom:"0px"},ve={groupName:"",groupDescription:"",error:null},Ee=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(i.a)(c.a.mark(function e(t){var r,n,s,l,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=a.props.userID,n=a.state,s=n.groupName,l=n.groupDescription,e.next=5,S.a.post("/api/creategroup",{currentUserID:r,groupName:s,groupDescription:l});case 5:o=e.sent,a.props.history.push("/group/".concat(o.data._id));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state=Object(D.a)({},ve),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.groupName,a=e.groupDescription,r=e.error,s=""===t||""===a;return n.a.createElement("div",null,n.a.createElement("br",null),r&&n.a.createElement("p",null,r.message),n.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",style:ge,htmlFor:"groupName"},"Group Name:")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:fe,type:"text",name:"groupName",placeholder:"Group Name",value:this.state.groupName,onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",style:ge,htmlFor:"groupDescription"},"Group Descripton: ")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:fe,placeholder:"Description",name:"groupDescription",value:this.state.groupDescription,onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group "},n.a.createElement("div",{className:"col-7"}),n.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",disabled:s,type:"submit"},"Create New Group"))))}}]),t}(r.Component),ke=B(function(e){return!!e})(Ee),Ne={title:"",image:"",authors:[],error:null},ye=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).getCurrentBook=function(){var e=Object(i.a)(c.a.mark(function e(t){var r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/getbookdata/".concat(t));case 2:200===(r=e.sent).status?a.setState({title:r.data.title,image:r.data.image,authors:r.data.authors}):a.setState({error:r.data.error});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state=Object(D.a)({},Ne),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.currentBook;e&&this.getCurrentBook(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.currentBook!==e.currentBook){var t=this.props.currentBook;this.getCurrentBook(t)}}},{key:"render",value:function(){return n.a.createElement("div",{className:"currentBook"},n.a.createElement("div",null,"Title: ",this.state.title),n.a.createElement("img",{src:this.state.image,alt:"".concat(this.state.title)}),n.a.createElement("div",null,"Current Benchmark: ",this.props.currentBenchmark),n.a.createElement("div",null,"Total Benchmark: ",this.props.totalBenchmark),n.a.createElement("br",null))}}]),t}(r.Component),we={width:"50%",height:"40px"},Oe={marginBottom:"0px"},je=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(i.a)(c.a.mark(function e(t){var r,n,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=a.state.bookSearch,n=r.trim().split(" ").join("+"),console.log(n),e.next=6,S.a.get("/api/searchbook/".concat(n));case 6:200===(s=e.sent).status?a.setState({bookArray:s.data}):a.setState({error:s.data.error});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={bookSearch:"",error:null,bookArray:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.bookSearch,r=t.error,s=t.bookArray,l=""===a;return n.a.createElement("div",{className:"bookSearch"},r&&n.a.createElement("p",null,r),n.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",style:Oe,htmlFor:"bookSearch"},"Book to Search:")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:we,type:"text",name:"bookSearch",placeholder:"Enter a Book to Search",value:this.state.bookSearch,onChange:this.handleChange})),n.a.createElement("div",{className:"form-group "},n.a.createElement("div",{className:"col-7"}),n.a.createElement("button",{disabled:l,className:"btn btn-primary col-1 col-mr-auto",type:"submit"},"Search Book")))),s&&s.map(function(t,a){return n.a.createElement(Se,{book:t,key:a,isAdmin:e.props.isAdmin,groupID:e.props.groupID,updatePage:e.props.updatePage})}))}}]),t}(r.Component),Se=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).addBookToGroup=function(){var e=Object(i.a)(c.a.mark(function e(t){var r,n,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(D.a)({},a.props.book),n=a.props,s=n.groupID,l=n.isAdmin,e.next=4,S.a.post("/api/addbook",{groupID:s,isAdmin:l,chosenBook:r});case 4:200===e.sent.status&&a.props.updatePage("main");case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.book,t=e.title,a=e.authors,r=e.description,s=e.image,l=e.pageCount,o=e.publishedDate;return n.a.createElement("div",{className:"bookCard"},n.a.createElement("div",null,t),n.a.createElement("div",null,a[0]),n.a.createElement("div",null,r),n.a.createElement("img",{src:s,alt:"".concat(t)}),n.a.createElement("div",null,l),n.a.createElement("div",null,o),n.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",onClick:this.addBookToGroup},"Add Book To Group"))}}]),t}(r.Component),Ce=je,De={width:"50%",height:"40px"},xe={marginBottom:"0px"},Ie={text:"",error:null},Ue=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(i.a)(c.a.mark(function e(t){var r,n,s,l,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=a.props,n=r.userID,s=r.groupID,l={text:a.state.text},e.next=5,S.a.post("/api/newpost",{userID:n,groupID:s,userPost:l});case 5:o=e.sent,a.props.history.push("/group/".concat(o.data._id)),a.props.updatePage("main");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state=Object(D.a)({},Ie),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.text,a=e.error,r=""===t;return n.a.createElement("div",null,n.a.createElement("br",null),a&&n.a.createElement("p",null,a.message),n.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",style:xe,htmlFor:"text"},"Post:")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:De,type:"text",name:"text",placeholder:"Write your Post",value:this.state.text,onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group "},n.a.createElement("div",{className:"col-7"}),n.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",disabled:r,type:"submit"},"Submit Post"))))}}]),t}(r.Component),Be=B(function(e){return!!e})(Ue),Pe=a(134),Ae=a.n(Pe),Fe=a(135),Me=a.n(Fe),Ve=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).getAllPosts=function(){var e=Object(i.a)(c.a.mark(function e(t){var r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/getallgrouppost/".concat(t));case 2:200===(r=e.sent).status?a.setState({postArray:r.data}):a.setState({error:r.data.error});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={text:"",error:null,postArray:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getAllPosts(this.props.groupID)}},{key:"componentDidUpdate",value:function(e){this.props.groupID!==e.groupID&&this.getAllPosts(this.props.groupID)}},{key:"render",value:function(){var e=this.state.postArray;return n.a.createElement("div",null,n.a.createElement("h1",null,"Posts"),e.map(function(e,t){return n.a.createElement("span",{key:t},n.a.createElement(Ae.a,{fluid:!0},n.a.createElement(Me.a,null,n.a.createElement("strong",null,"User:")," ",e.user,n.a.createElement("br",null),n.a.createElement("strong",null,"Date: ")," ",e.date,n.a.createElement("p",null,n.a.createElement("strong",null,"Post:")," ",e.text))),";")}))}}]),t}(r.Component),ze=B(function(e){return!!e})(Ve),Ge={width:"50%",height:"40px"},Le={marginBottom:"0px"},Te={nextBenchmark:"",totalBenchmark:"",error:null},We=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleCurrentSubmit=function(){var e=Object(i.a)(c.a.mark(function e(t){var r,n,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=+a.state.nextBenchmark,n=a.props,s=n.groupID,l=n.isAdmin,e.prev=3,e.next=6,S.a.put("/api/updatebenchmark",{nextBenchmark:r,groupID:s,isAdmin:l});case 6:200===e.sent.status&&a.props.updatePage("main"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.setState({error:{message:"Moderator needed to update benchmark"}});case 13:case"end":return e.stop()}},e,this,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),a.handleTotalSubmit=function(){var e=Object(i.a)(c.a.mark(function e(t){var r,n,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=+a.state.totalBenchmark,n=a.props,s=n.groupID,l=n.isAdmin,e.prev=3,e.next=6,S.a.put("/api/updatepagesetup",{totalCount:r,groupID:s,isAdmin:l});case 6:200===e.sent.status&&a.props.updatePage("main"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.setState({error:{message:"Moderator needed to update benchmark"}});case 13:case"end":return e.stop()}},e,this,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),a.state=Object(D.a)({},Te),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.nextBenchmark,a=e.totalBenchmark,r=e.error,s=""===t||t<0,l=""===a||a<0;return n.a.createElement("div",null,n.a.createElement("br",null),r&&n.a.createElement("p",null,r.message),n.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleCurrentSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",style:Le,htmlFor:"nextBenchmark"},"Next Goal for Group:")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:Ge,type:"number",name:"nextBenchmark",placeholder:"What is the next goal for the group?",value:this.state.nextBenchmark,onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group "},n.a.createElement("div",{className:"col-7"}),n.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",disabled:s,type:"submit"},"Set New Goal"))),n.a.createElement("br",null),n.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleTotalSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",style:Le,htmlFor:"totalBenchmark"},"Update Total Benchmarks / Chapters:")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:Ge,type:"number",name:"totalBenchmark",placeholder:"What is the total benchmarks or chapters of this book?",value:this.state.totalBenchmark,onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group "},n.a.createElement("div",{className:"col-7"}),n.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",disabled:l,type:"submit"},"Update Total"))))}}]),t}(r.Component),_e=B(function(e){return!!e})(We),Re={width:"50%",height:"40px"},$e={marginBottom:"0px"},Je=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(i.a)(c.a.mark(function e(t){var r,n,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=a.state,n=r.userSearch,s=r.searchSelect,e.next=4,S.a.get("/api/usersearch/".concat(n,"/").concat(s));case 4:l=e.sent,a.setState({userArray:l.data});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={userSearch:"",error:null,userArray:[],searchSelect:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.userSearch,r=t.error,s=t.userArray,l=t.searchSelect,o=""===a||""===l;return n.a.createElement("div",{className:"userSearch"},r&&n.a.createElement("p",null,r),n.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",style:$e},"Search By:")),n.a.createElement("select",{name:"searchSelect",value:this.state.searchSelect,onChange:this.handleChange},n.a.createElement("option",{value:""}," "),n.a.createElement("option",{value:"email"},"Email"),n.a.createElement("option",{value:"username"},"Username"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-1 col-ml-auto"},n.a.createElement("label",{className:"form-label",style:$e,htmlFor:"userSearch"},"Search Users:")),n.a.createElement("div",{className:"col-3 col-mr-auto"},n.a.createElement("input",{className:"form-input",style:Re,type:"text",name:"userSearch",placeholder:"Search User",value:this.state.userSearch,onChange:this.handleChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"col-7"}),n.a.createElement("button",{disabled:o,className:"btn btn-primary col-1 col-mr-auto",type:"submit"},"Search User")))),s&&s.map(function(t,a){return n.a.createElement(Ze,{user:t,key:a,isAdmin:e.props.isAdmin,groupID:e.props.groupID,updatePage:e.props.updatePage})}))}}]),t}(r.Component),Ze=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).addUserToGroup=function(){var e=Object(i.a)(c.a.mark(function e(t){var r,n,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props,n=r.isAdmin,s=r.groupID,l=a.props.user.userID,e.next=4,S.a.put("/api/addusertogroup",{isAdmin:n,groupID:s,userID:l});case 4:200===e.sent.status&&a.props.updatePage("main");case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.isAdmin,t=this.props.user,a=t.email,r=t.username;return n.a.createElement("div",{className:"userCard"},n.a.createElement("div",null,"Email: ",a),n.a.createElement("div",null,"Username: ",r),e&&n.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",onClick:this.addUserToGroup},"Add User To Group"))}}]),t}(r.Component),qe=Je,Ye=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=Object(i.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/getuserbyid/".concat(a.props.userID));case 2:200===(t=e.sent).status?a.setState({username:t.data.local.username}):a.setState({error:t.data});case 4:case"end":return e.stop()}},e,this)})),a.state={username:"",error:null},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,this.state.username)}}]),t}(r.Component),He=function(e){return n.a.createElement(r.Fragment,null,n.a.createElement("h3",null,"Userlist:"),n.a.createElement("div",null,e.userlist.map(function(e,t){return n.a.createElement(I.a,{to:"/user/".concat(e._id),key:t},n.a.createElement(Ye,{userID:e._id,key:e._id}))})),n.a.createElement("br",null))},Ke=function(e){return n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.updatePage("main")}},"Show Club Page"),n.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.updatePage("updateBook")}},"Update Book"),n.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.updatePage("addUser")}},"Add User"))},Xe={groupID:0,groupName:"",groupDescription:"",userlist:[],currentBook:"",pastBook:[],currentBenchmark:0,previousBenchmark:[],totalBenchmark:0,isAdmin:!1,error:null,showMainPage:!0,updateBook:!1,addUser:!1},Qe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).getGroupData=function(){var e=Object(i.a)(c.a.mark(function e(t){var r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/getgroupdata/".concat(t));case 2:200===(r=e.sent).status?a.setState({groupID:r.data._id,groupName:r.data.name,groupDescription:r.data.description,userlist:r.data.userlist,currentBook:r.data.currentBook,pastBook:r.data.pastBook,currentBenchmark:r.data.currentBenchmark,previousBenchmark:r.data.previousBenchmark,totalBenchmark:r.data.totalBenchmark},function(){return a.checkAdmin()}):a.setState({error:r.data.error});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.checkAdmin=function(){var e=a.state.userlist,t=sessionStorage.getItem("userID");e.filter(function(e){return e._id===t})[0].isAdmin&&a.setState({isAdmin:!0})},a.updatePage=function(e){switch(e){case"main":a.setState({showMainPage:!0,updateBook:!1,addUser:!1}),a.getGroupData(a.state.groupID);break;case"updateBook":a.setState({showMainPage:!1,updateBook:!0,addUser:!1}),a.getGroupData(a.state.groupID);break;case"addUser":a.setState({showMainPage:!1,updateBook:!1,addUser:!0}),a.getGroupData(a.state.groupID)}},a.state=Object(D.a)({},Xe),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.groupID;this.getGroupData(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.match.params.groupID!==e.match.params.groupID){var t=this.props.match.params.groupID;this.getGroupData(t)}}},{key:"render",value:function(){var e=this.state,t=e.groupID,a=e.groupName,s=e.groupDescription,l=e.userlist,o=e.currentBook,c=(e.pastBook,e.currentBenchmark),i=(e.previousBenchmark,e.totalBenchmark),u=e.error,m=e.isAdmin,p=e.showMainPage,d=e.updateBook,h=e.addUser;return n.a.createElement("div",null,u&&n.a.createElement("p",null,u.message),m&&n.a.createElement(Ke,{updatePage:this.updatePage}),n.a.createElement(et,{groupName:a,groupDescription:s}),n.a.createElement(He,{userlist:l}),o&&n.a.createElement(ye,{currentBook:o,currentBenchmark:c,totalBenchmark:i}),p&&n.a.createElement(r.Fragment,null,n.a.createElement(Be,{userID:this.props.userID,groupID:t,updatePage:this.updatePage}),n.a.createElement(ze,{groupID:t})),d&&n.a.createElement(r.Fragment,null,n.a.createElement(Ce,{groupID:t,isAdmin:m,updatePage:this.updatePage}),n.a.createElement(_e,{isAdmin:m,groupID:t,updatePage:this.updatePage})),h&&n.a.createElement(qe,{groupID:t,isAdmin:m,updatePage:this.updatePage}))}}]),t}(r.Component),et=function(e){return n.a.createElement(r.Fragment,null,n.a.createElement("h3",null,"Name: ",e.groupName),n.a.createElement("p",null,n.a.createElement("strong",null,"Description: "),e.groupDescription))},tt=B(function(e){return!!e})(Qe),at=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=Object(i.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/getgroupdata/".concat(a.props.groupID));case 2:200===(t=e.sent).status?a.setState({groupName:t.data.name}):a.setState({error:t.data});case 4:case"end":return e.stop()}},e,this)})),a.state={groupName:"",error:null},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,this.state.groupName)}}]),t}(r.Component),rt=function(e){return n.a.createElement("div",null,n.a.createElement("h4",null,"Your Clubs:"),n.a.createElement("div",null,e.grouplist.map(function(e){return n.a.createElement(I.a,{to:"/group/".concat(e),key:e},n.a.createElement(at,{groupID:e,key:e}))})))},nt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).isSignedIn=function(){var e=Object(i.a)(c.a.mark(function e(t){var r,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/getuser/".concat(t));case 2:r=e.sent,n={username:r.data.local.username,userID:r.data._id,grouplist:r.data.grouplist},sessionStorage.setItem("userID",n.userID),a.setState({currentUser:n});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={authUser:null,currentUser:{}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?(e.setState({authUser:t}),e.isSignedIn(t.email)):(e.setState({authUser:null,currentUser:{}}),sessionStorage.clear())})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var e=this,t=this.state.currentUser.grouplist;return n.a.createElement(f.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(re,{authUser:this.state.authUser}),t&&n.a.createElement(rt,{grouplist:t}),n.a.createElement(g.a,{exact:!0,path:b,render:function(){return n.a.createElement(ae,{userID:e.state.currentUser.userID})}}),n.a.createElement(g.a,{path:"/signin",render:function(){return n.a.createElement($,null)}}),n.a.createElement(g.a,{path:"/signup",render:function(){return n.a.createElement(X,null)}}),n.a.createElement(g.a,{path:"/passwordreset",render:function(){return n.a.createElement(V,null)}}),n.a.createElement(g.a,{path:"/passwordchange",render:function(){return n.a.createElement(ce,null)}}),n.a.createElement(g.a,{path:"/userprofile",render:function(){return n.a.createElement(be,null)}}),n.a.createElement(g.a,{path:"/creategroup",render:function(){return n.a.createElement(ke,{userID:e.state.currentUser.userID})}}),n.a.createElement(g.a,{path:"/group/:groupID",render:function(){return n.a.createElement(tt,{userID:e.state.currentUser.userID})}}),n.a.createElement(g.a,{path:"/user/:userID",render:function(){return n.a.createElement(be,{userID:e.state.currentUser.userID})}})))}}]),t}(r.Component),st=E(nt),lt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ot(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(n.a.createElement(k.Provider,{value:new O},n.a.createElement(st,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");lt?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ot(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):ot(e)})}}()}},[[136,1,2]]]);
//# sourceMappingURL=main.7d813908.chunk.js.map