(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,a){e.exports=a.p+"static/media/logo.a5beb2d9.png"},147:function(e,t,a){e.exports=a.p+"static/media/wormlong2.91f43df8.png"},148:function(e,t,a){e.exports=a(296)},153:function(e,t,a){},270:function(e,t,a){},296:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(109),l=a.n(s),o=(a(153),a(3)),c=a.n(o),u=a(11),i=a(4),m=a(6),p=a(9),d=a(7),h=a(8),g="/",b=a(317),f=a(316),E=r.a.createContext(null),v=function(e){return function(t){return r.a.createElement(E.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))})}},y=E,k=a(78),x=a.n(k);a(203);a(205).config();var w,O={apiKey:"AIzaSyCMyDSEy4LJVeLqvdXhS9zNGY7sTlz2vLI",authDomain:"club-bookworm.firebaseapp.com",databaseURL:"https://club-bookworm.firebaseio.com",projectId:"club-bookworm",storageBucket:"club-bookworm.appspot.com",messagingSenderId:"610111063127"},j=function e(){var t=this;Object(i.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return x.a.auth().currentUser.updatePassword(e)},x.a.initializeApp(O),this.auth=x.a.auth()},S=a(10),D=a.n(S),C=a(16),B=a(15),I=a(318),N=a(297),P=a(29),U=a(298),A=a(299),z=function(e){return function(t){var a=function(a){function n(){return Object(i.a)(this,n),Object(p.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(h.a)(n,a),Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(a){e(a)||t.props.history.push("/signin")})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(t,this.props)}}]),n}(r.a.Component);return Object(P.a)(I.a,v)(a)}},F={width:"50%",height:"40px"},M={email:"",error:null},G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then(function(){a.setState(Object(B.a)({},M)),a.props.history.push(g)}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.state=Object(B.a)({},M),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{className:"form-horizontal",onSubmit:this.onSubmit},a&&r.a.createElement("p",null,a.message),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-input",style:F,name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"})),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",disabled:n,type:"submit"},"Reset Password")))}}]),t}(n.Component),L=function(){return r.a.createElement("p",null,r.a.createElement(N.a,{to:"/passwordreset"},r.a.createElement("button",{className:"btn btn-success"},"Forgot Password?")))},V=z(function(e){return!!e})(function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Password Reset"),r.a.createElement("br",null),r.a.createElement(T,null))}),T=Object(P.a)(I.a,v)(G),W={width:"75%",height:"40px"},R={marginBottom:"0px"},_={display:"block",marginLeft:"30px",marginRight:"auto"},J={fontSize:"17px",textAlign:"center"},$={email:"",password:"",error:null},Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).then(Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState(Object(B.a)({},$)),a.props.history.push(g);case 2:case"end":return e.stop()}},e)}))).catch(function(e){a.setState({error:e})})},a.state=Object(B.a)({},$),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,s=""===a||""===t;return r.a.createElement("div",null,r.a.createElement("br",null),n&&r.a.createElement("p",null,n.message),r.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("label",{className:"form-label",style:R,htmlFor:"email"},"Email:")),r.a.createElement("div",null,r.a.createElement("input",{className:"form-input",style:W,type:"text",name:"email",placeholder:"email",value:this.state.email,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("label",{className:"form-label",style:R,htmlFor:"password"},"Password: ")),r.a.createElement("div",null,r.a.createElement("input",{className:"form-input",style:W,placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",null),r.a.createElement("button",{className:"btn btn-primary ",disabled:s,type:"submit"},"Login"))),r.a.createElement(L,null))}}]),t}(n.Component),Y=Object(P.a)(I.a,v)(Z),q=function(){return r.a.createElement("p",null,"Already have an account? ",r.a.createElement(N.a,{to:"/signin"},r.a.createElement("button",{className:"btn btn-success"},"Sign In")))},H=function(){return r.a.createElement("div",{style:_},r.a.createElement(U.a,null,r.a.createElement(A.a,{xs:"6"},r.a.createElement("h3",null,"SignIn"),r.a.createElement(Y,null),r.a.createElement(re,null)),r.a.createElement(A.a,{xs:"6"},r.a.createElement("p",{style:J},r.a.createElement("strong",null,"Welcome to Bookworm!"),r.a.createElement("br",null),"We\u2019re helping you create a community around the books you love and the ones you want to read. By joining us we help keep you engaged with reading. Join now, create a club, invite your friends, pick your favorite book and get reading!",r.a.createElement("br",null)," ",r.a.createElement("br",null),"Bookworm helps you facilitate your bookclub ensuring everyone is on the same page and place where your club can talk about the book. Our clubs feature benchmark tracking and dialog between users through a familiar post and comment feature.",r.a.createElement("br",null)," ",r.a.createElement("br",null),"We\u2019re totally free, why not sign in and get reading?"))))},K={width:"50%",height:"40px"},X={marginBottom:"0px"},Q={display:"block",marginLeft:"50px",marginRight:"auto"},ee={fontSize:"17px",textAlign:"center"},te={username:"",password:"",confirmPassword:"",email:"",firstname:"",lastname:"",redirectTo:null,error:null,emailValid:!1,passwordValid:!1,usernameValid:!1,validMessage:[]},ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,s,l,o,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.checkValidInput()){e.next=9;break}return n=a.state,r=n.username,s=n.email,l=n.password,o=n.firstname,u=n.lastname,e.next=5,D.a.post("/api/newuser",{username:r,email:s,firstname:o,lastname:u});case 5:if(200!==e.sent.status){e.next=8;break}return e.abrupt("return",a.props.firebase.doCreateUserWithEmailAndPassword(s,l).then(function(e){a.setState(Object(B.a)({},te)),a.props.history.push(g)}).catch(function(e){console.log(e),a.setState({error:e})}));case 8:case 9:case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},e.target.name,e.target.value),function(){return a.validateForm(t,n)})},a.checkValidInput=function(){var e=0,t=[];return a.state.emailValid||(e++,t.push("Email entered is invalid")),a.state.usernameValid||(e++,t.push("Please ensure username is at least 3 characters, no more than 16 and only contains letters, numbers, underscores and dashes")),a.state.passwordValid||(e++,t.push("Password must be at least 6 characters in length and contain no spaces")),!(e>0)||(a.setState({validMessage:t}),!1)},a.validateForm=function(e,t){var n;switch(e){case"email":n=!!t.match(/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),a.setState({emailValid:n});break;case"password":var r=t.length>=6,s=t.match(/^\S*$/);n=!(!r||!s),a.setState({passwordValid:n});break;case"username":var l=t.match(/^([a-z0-9-_])+$/i),o=t.length>=3&&t.length<=16;n=!(!l||!o),a.setState({usernameValid:n})}},a.state=Object(B.a)({},te),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,s=e.passwordTwo,l=e.firstname,o=e.lastname,c=e.error,u=e.validMessage,i=n!==s||""===n||""===a||""===l||""===o||t.length<3||n<6;return r.a.createElement("div",{className:"SignupForm"},r.a.createElement("br",null),c&&r.a.createElement("p",null,c.message),u&&u.map(function(e,t){return r.a.createElement("p",{key:t},e)}),r.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("label",{className:"form-label",htmlFor:"email",style:X},"Email ")),r.a.createElement("div",null,r.a.createElement("input",{className:"form-input",style:K,type:"text",id:"email",name:"email",placeholder:"ex. janedoe@email.com",value:this.state.email,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("label",{className:"form-label",htmlFor:"password",style:X},"Password",r.a.createElement("br",null),"(Must be at least 6 characters with no spaces) ")),r.a.createElement("div",null,r.a.createElement("input",{className:"form-input",style:K,placeholder:"Password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("label",{className:"form-label",htmlFor:"confirmPassword",style:X},"Confirm Password ")),r.a.createElement("div",null,r.a.createElement("input",{className:"form-input",style:K,placeholder:"Confirm Password",type:"password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("label",{className:"form-label",htmlFor:"username",style:X},"Username",r.a.createElement("br",null),"(Must be at least 3 characters, no more than 16, no special characters & no spaces)")),r.a.createElement("div",null,r.a.createElement("input",{className:"form-input",style:K,placeholder:"ex. JaneDoe14",type:"username",name:"username",value:this.state.username,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("label",{className:"form-label",htmlFor:"firstname",style:X},"First Name: ")),r.a.createElement("div",null,r.a.createElement("input",{className:"form-input",style:K,placeholder:"ex. Jane",type:"firstname",name:"firstname",value:this.state.firstname,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("label",{className:"form-label",htmlFor:"lastname",style:X},"Last Name: ")),r.a.createElement("div",null,r.a.createElement("input",{className:"form-input",style:K,placeholder:"ex. Doe",type:"lastname",name:"lastname",value:this.state.lastname,onChange:this.handleChange}))),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",null),r.a.createElement("button",{disabled:i,className:"btn btn-primary col-1 col-mr-auto",type:"submit"},"Sign Up"))))}}]),t}(n.Component),ne=Object(P.a)(I.a,v)(ae),re=function(){return r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(N.a,{to:"/signup"},r.a.createElement("button",{className:"btn btn-success"},"Sign Up")))},se=function(){return r.a.createElement("div",{style:Q},r.a.createElement(U.a,null,r.a.createElement(A.a,{xs:"6"},r.a.createElement("h3",null,"SignUp"),r.a.createElement(ne,null),r.a.createElement(q,null)),r.a.createElement(A.a,{xs:"6"},r.a.createElement("p",{style:ee},r.a.createElement("strong",null,"Welcome to Bookworm!"),r.a.createElement("br",null),"We\u2019re helping you create a community around the books you love and the ones you want to read. By joining us we help keep you engaged with reading. Join now, create a club, invite your friends, pick your favorite book and get reading!",r.a.createElement("br",null)," ",r.a.createElement("br",null),"Bookworm helps you facilitate your bookclub ensuring everyone is on the same page and place where your club can talk about the book. Our clubs feature benchmark tracking and dialog between users through a familiar post and comment feature.",r.a.createElement("br",null)," ",r.a.createElement("br",null),"We\u2019re totally free, why not sign up and get reading?"))))},le=(a(270),{fontSize:"25px"}),oe=v(function(e){var t=e.firebase;return r.a.createElement("button",{style:le,className:"btn btn-link",onClick:t.doSignOut},"Sign Out")}),ce=a(300),ue=a(301),ie=a(302),me=a(303),pe=a(304),de=a(305),he=a(306),ge=(w={border:"1px solid darkgrey",borderRadius:"2px",marginLeft:"5px",marginRight:"5px",height:"auto",overflow:"auto"},Object(C.a)(w,"height","600px"),Object(C.a)(w,"marginBottom","10px"),w),be={fontSize:"25px"},fe={fontSize:"25px"},Ee={paddingLeft:"2px",paddingRight:"2px",width:"200px",margin:"0 auto"},ve={fontSize:"25px"},ye={fontSize:"15px",margin:"0 auto"},ke=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={grouplist:[],error:null,hasGroups:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.grouplist&&(this.setState({grouplist:this.props.grouplist}),this.checkIfGroups())}},{key:"componentDidUpdate",value:function(e){this.props.grouplist!==e.grouplist&&(this.setState({grouplist:this.props.grouplist}),this.checkIfGroups())}},{key:"checkIfGroups",value:function(){this.props.grouplist||this.props.history.push("/signin"),this.props.grouplist.length>0&&this.setState({hasGroups:!0})}},{key:"render",value:function(){var e=this.state,t=e.grouplist,a=e.hasGroups;return r.a.createElement("div",null,a?t.map(function(e){return r.a.createElement(we,{key:e,groupID:e})}):r.a.createElement(xe,null))}}]),t}(n.Component),xe=function(){return r.a.createElement("div",null,r.a.createElement("p",{style:be},r.a.createElement("strong",null,"Welcome to Bookworm!")," "),r.a.createElement("p",Object(C.a)({style:{margin:"0 auto"}},"style",fe),"You\u2019ve taken your first step into being more engaged with reading! Why not create a group above? Once there be sure to add a book and invite some of your friends to join!"))},we=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).getGroupData=function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/getgroupdata/".concat(t));case 2:200===(n=e.sent).status&&a.setState({groupName:n.data.name,currentBook:n.data.currentBook,currentBenchmark:n.data.currentBenchmark},function(){D.a.all([a.getBookData(),a.getPostData()]).then(D.a.spread(function(e,t){200===e.status&&a.setState({bookTitle:e.data.title,bookImage:e.data.image}),t.data.length>0&&a.setState({author:t.data[0].user,date:t.data[0].date})}))});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getBookData=function(){return D.a.get("/api/getbookdata/".concat(a.state.currentBook))},a.getPostData=function(){return D.a.get("/api/getallgrouppost/".concat(a.props.groupID))},a.state={groupName:"",currentBook:"",currentBenchmark:0,error:null,bookTitle:"",bookImage:"",author:"",date:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.groupID;this.getGroupData(e)}},{key:"render",value:function(){var e=this.state,t=e.currentBenchmark,a=e.bookImage,n=e.bookTitle,s=e.author,l=e.date,o=e.groupName,c=new Date(this.state.date),u=this.props.groupID;return r.a.createElement(A.a,{sm:"3"},r.a.createElement(ce.a,{style:ge},r.a.createElement(ue.a,{style:ye},r.a.createElement(ie.a,{style:ve},r.a.createElement("strong",null,o)),r.a.createElement("br",null),r.a.createElement(me.a,null,r.a.createElement("strong",null,"Next Chapter:  "),t)),r.a.createElement(pe.a,{style:Ee,src:a,alt:n}),r.a.createElement(ue.a,{style:ye},r.a.createElement(de.a,null,s&&r.a.createElement(Oe,{author:s}),r.a.createElement("br",null),l&&c.toLocaleString()),r.a.createElement(N.a,{to:"/group/".concat(u)},r.a.createElement(he.a,{color:"success"},"Go to Club")))))}}]),t}(n.Component),Oe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.getUsername()},a.getUsername=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/getuserbyid/".concat(a.props.author));case 2:200===(t=e.sent).status?a.setState({username:t.data.local.username}):a.setState({error:t.data});case 5:case"end":return e.stop()}},e)})),a.state={username:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,"Last Post By: ",this.state.username)}}]),t}(n.Component),je=function(){return r.a.createElement(N.a,{to:g},r.a.createElement("button",{style:be,className:"btn btn-link"},"Home"))},Se=z(function(e){return!!e})(ke),De=a(55),Ce=a.n(De),Be=a(56),Ie=a.n(Be),Ne=a(307),Pe=a(308),Ue=a(309),Ae=a(310),ze=Ie()(Ce.a),Fe={marginBottom:"0px"},Me={groupName:"",groupDescription:"",error:null},Ge={fontSize:"25px"},Le={fontSize:"25px"},Ve={fontSize:"20px"},Te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,s,l,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.props.userID,r=a.state,s=r.groupName,l=r.groupDescription,e.next=5,D.a.post("/api/creategroup",{currentUserID:n,groupName:s,groupDescription:l});case 5:o=e.sent,ze.fire({type:"success",title:"".concat(s," Created!"),text:"Taking you to the club page. Why don't you pick a book or add a user?"}),a.props.history.push("/group/".concat(o.data._id));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state=Object(B.a)({},Me),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.groupName,a=e.groupDescription,n=e.error,s=""===t||""===a;return r.a.createElement("div",null,r.a.createElement("br",null),n&&r.a.createElement("p",null,n.message),r.a.createElement(Ne.a,{style:Le,onSubmit:this.handleSubmit},r.a.createElement(Pe.a,null,r.a.createElement(Ue.a,{style:Fe,htmlFor:"groupName",for:"text"}," Group Name: "),r.a.createElement(Ae.a,{style:Ve,type:"text",name:"groupName",placeholder:"Enter A Group Name",value:this.state.groupName,onChange:this.handleChange})),r.a.createElement(Pe.a,null,r.a.createElement(Ue.a,{style:Fe,htmlFor:"groupDescription",for:"text"},"Enter A Group Description: "),r.a.createElement(Ae.a,{style:Ve,type:"text",name:"groupDescription",placeholder:"Description",value:this.state.groupDescription,onChange:this.handleChange})),r.a.createElement(he.a,{color:"secondary",size:"lg",disabled:s,type:"submit"},"Create New Group")))}}]),t}(n.Component),We=function(){return r.a.createElement(N.a,{to:"/creategroup"},r.a.createElement("button",{style:Ge,className:"btn btn-link"},"Create Group"))},Re=z(function(e){return!!e})(Te),_e=a(145),Je=a.n(_e),$e=a(311),Ze=a(312),Ye=a(313),qe=a(314),He={backgroundColor:"#343a40",width:"auto",height:"100%",overflow:"hidden",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},Ke={fontSize:"30px",color:"white"},Xe={marginLeft:"40px"},Qe={textAlign:"left"},et=function(e){return r.a.createElement("div",null,r.a.createElement("header",{style:He,className:"navbar"},r.a.createElement("div",{style:Ke},r.a.createElement(U.a,null,r.a.createElement(A.a,null,r.a.createElement($e.a,{color:"dark",dark:!0,expand:"md"},e.authUser?r.a.createElement("section",null,r.a.createElement(Ze.a,{className:"ml-auto",navbar:!0},r.a.createElement(Ye.a,null,r.a.createElement(je,null)),r.a.createElement(Ye.a,null,r.a.createElement(We,null)),r.a.createElement(Ye.a,null,r.a.createElement(oe,null)))):r.a.createElement("section",null,r.a.createElement(Ze.a,{style:Ke},r.a.createElement("div",{style:Qe},r.a.createElement(Ye.a,null,r.a.createElement(qe.a,{href:"/signin"},"Sign In "))),r.a.createElement("div",{style:Xe},r.a.createElement(Ye.a,null,r.a.createElement(qe.a,{href:"/signup"},"Sign Up"))))))))),r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement(A.a,{sm:{size:"4",offset:1}},r.a.createElement("img",{src:Je.a,alt:"Logo",height:"150px",width:"auto"}))))))},tt={width:"50%",height:"40px"},at={marginBottom:"0px"},nt={password:"",passwordConfirm:"",error:null,passwordValid:!1,validMessage:[]},rt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){if(e.preventDefault(),a.checkValidInput()){var t=a.state.password;a.props.firebase.doPasswordUpdate(t).then(function(){a.setState(Object(B.a)({},nt)),a.props.history.push(g)}).catch(function(e){a.setState({error:e})})}},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},e.target.name,e.target.value),function(){return a.validateForm(t,n)})},a.checkValidInput=function(){var e=0,t=[];return a.state.passwordValid||(e++,t.push("Password must be at least 6 characters in length and contain no spaces")),!(e>0)||(a.setState({validMessage:t}),!1)},a.validateForm=function(e,t){var n,r=t.length>=6,s=t.match(/^\S*$/);n=!(!r||!s),a.setState({passwordValid:n})},a.state=Object(B.a)({},nt),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.password,a=e.passwordConfirm,n=e.error,s=e.validMessage,l=t!==a||""===t;return r.a.createElement("div",null,r.a.createElement("h3",null,"Update Password:"),r.a.createElement("br",null),s&&s.map(function(e,t){return r.a.createElement("p",{key:t},e)}),r.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n&&r.a.createElement("p",null,n.message),r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",style:at,htmlFor:"password"},"New Password:")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-input",style:tt,name:"password",value:t,onChange:this.handleChange,type:"password",placeholder:"New Password"})),r.a.createElement("div",{className:"col-1 col-ml-auto"},r.a.createElement("label",{className:"form-label",style:at,htmlFor:"passwordConfirm"},"Confirm Password:")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-input",style:tt,name:"passwordConfirm",value:a,onChange:this.handleChange,type:"password",placeholder:"Confirm New Password"})),r.a.createElement("div",{className:"form-group "},r.a.createElement("div",{className:"col-7"}),r.a.createElement("button",{className:"btn btn-primary col-1 col-mr-auto",disabled:l,type:"submit"},"Update Password"))))}}]),t}(n.Component),st=z(function(e){return!!e})(Object(P.a)(I.a,v)(rt)),lt={width:"25%",height:"40px"},ot={marginBottom:"0px"},ct={marginLeft:"30px"},ut={username:"",email:"",firstname:"",lastname:"",emailValid:!1,usernameValid:!1,validMessage:""},it={dbUsername:"",dbEmail:"",dbFirstname:"",dbLastname:"",isCurrentUser:!1},mt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).checkCurrentUser=function(e){a.props.userID===e&&a.setState({isCurrentUser:!0})},a.updatedProfile=function(){a.getUserData(a.props.match.params.userID)},a.getUserData=function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/getuserbyid/".concat(t));case 2:200===(n=e.sent).status&&a.setState({dbUsername:n.data.local.username,dbEmail:n.data.local.email,dbFirstname:n.data.local.firstname,dbLastname:n.data.local.lastname});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state=Object(B.a)({},it),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userID;this.getUserData(e),this.checkCurrentUser(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.match.params.userID!==e.match.params.userID||this.props.userID!==e.userID){var t=this.props.match.params.userID;this.getUserData(t),this.checkCurrentUser(t)}}},{key:"render",value:function(){var e=this.state,t=e.isCurrentUser,a=e.dbUsername,s=e.dbEmail,l=e.dbFirstname,o=e.dbLastname;return r.a.createElement("div",{style:ct},r.a.createElement("h1",null,this.state.dbUsername,"'s Profile"),r.a.createElement("div",null,"Username: ",a),r.a.createElement("div",null,"Email: ",s),r.a.createElement("div",null,"Firstname: ",l),r.a.createElement("div",null,"Lastname: ",o),t&&r.a.createElement(n.Fragment,null,r.a.createElement(pt,{userID:this.props.userID,updatedProfile:this.updatedProfile}),r.a.createElement("br",null),r.a.createElement(st,null)))}}]),t}(n.Component),pt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.checkValidInput(t)){e.next=9;break}return n=a.state[t],r=a.props.userID,s=t,e.next=6,D.a.put("/api/updateuser",{userID:r,value:n,request:s});case 6:200===e.sent.status&&(a.props.updatedProfile(),a.setState(Object(B.a)({},ut)));case 9:case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},e.target.name,e.target.value),function(){return a.validateForm(t,n)})},a.validateForm=function(e,t){var n;switch(e){case"email":n=!!t.match(/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),a.setState({emailValid:n});break;case"username":var r=t.match(/^([a-z0-9-_])+$/i),s=t.length>=3&&t.length<=16;n=!(!r||!s),a.setState({usernameValid:n})}},a.checkValidInput=function(e){return"email"!==e||a.state.emailValid?!("username"===e&&!a.state.usernameValid)||(a.setState({validMessage:"Please ensure username is at least 3 characters, no more than 16 and only contains letters, numbers, underscores and dashes"}),!1):(a.setState({validMessage:"Email entered is invalid"}),!1)},a.state=Object(B.a)({},ut),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.email,s=t.firstname,l=t.lastname,o=t.validMessage,c=""===a,u=""===n,i=""===s,m=""===l;return r.a.createElement("div",{className:"form-group"},o&&r.a.createElement("p",null,o),r.a.createElement("br",null),r.a.createElement("label",{style:ot},"Username:"),r.a.createElement("input",{className:"form-input",style:lt,type:"text",name:"username",placeholder:"Update Username",value:a,onChange:this.handleChange}),r.a.createElement("button",{className:"btn btn-primary",disabled:c,onClick:function(){return e.handleSubmit("username")}},"Update Username"),r.a.createElement("br",null),r.a.createElement("label",{style:ot},"Email:"),r.a.createElement("input",{className:"form-input",style:lt,type:"text",name:"email",placeholder:"Update Email",value:n,onChange:this.handleChange}),r.a.createElement("button",{className:"btn btn-primary",disabled:u,onClick:function(){return e.handleSubmit("email")}},"Update Email"),r.a.createElement("br",null),r.a.createElement("label",{style:ot},"First Name:"),r.a.createElement("input",{className:"form-input",style:lt,type:"text",name:"firstname",placeholder:"Update Firstname",value:s,onChange:this.handleChange}),r.a.createElement("button",{className:"btn btn-primary",disabled:i,onClick:function(){return e.handleSubmit("firstname")}},"Update Firstname"),r.a.createElement("br",null),r.a.createElement("label",{style:ot},"Last Name:"),r.a.createElement("input",{className:"form-input",style:lt,type:"text",name:"lastname",placeholder:"Update Lastname",value:l,onChange:this.handleChange}),r.a.createElement("button",{className:"btn btn-primary",disabled:m,onClick:function(){return e.handleSubmit("lastname")}},"Update Lastname"),r.a.createElement("br",null))}}]),t}(n.Component),dt=z(function(e){return!!e})(mt),ht={title:"",image:"",authors:[],error:null},gt={position:"center",height:"20px",width:"350px",borderRadius:"50px",border:"1px solid #333",marginLeft:"auto",marginRight:"auto"},bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).getCurrentBook=function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/getbookdata/".concat(t));case 2:200===(n=e.sent).status?a.setState({title:n.data.title,image:n.data.image,authors:n.data.authors}):a.setState({error:n.data.error});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state=Object(B.a)({},ht),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.currentBook;e&&this.getCurrentBook(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.currentBook!==e.currentBook){var t=this.props.currentBook;this.getCurrentBook(t)}}},{key:"render",value:function(){var e=this.props.currentBenchmark/this.props.totalBenchmark*100,t=this.props,a=t.currentBenchmark,n=t.totalBenchmark,s=this.state,l=s.title,o=s.image;return r.a.createElement("div",{className:"currentBook"},r.a.createElement("div",null,r.a.createElement("strong",null,"Current Book "),r.a.createElement("br",null),l,r.a.createElement("br",null),r.a.createElement("img",{width:"auto",height:"75%",src:o,alt:"".concat(l)})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",null," Current Progress "),r.a.createElement("br",null),r.a.createElement(ft,{percentage:e}),a," / ",n," "),r.a.createElement("br",null))}}]),t}(n.Component),ft=function(e){return r.a.createElement("div",{className:"progressBar",style:gt},r.a.createElement(Et,{percentage:e.percentage}))},Et=function(e){return r.a.createElement("div",{className:"filler",style:{background:"#1DA598",height:"100%",borderRadius:"inherit",transition:"width .2s ease-in",width:"".concat(e.percentage,"%")}})},vt=bt,yt=a(146),kt=Ie()(Ce.a),xt={marginBottom:"0px"},wt={margin:"0"},Ot={width:"400px",height:"600px",marginBottom:"10px"},jt={paddingLeft:"2px",paddingRight:"2px",width:"200px",margin:"0 auto"},St={fontSize:"25px"},Dt={fontSize:"15px",margin:"0 auto"},Ct={fontSize:"25px"},Bt={fontSize:"20px"},It=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.bookSearch,r=n.trim().split(" ").join("+"),a.setState({loading:!0}),e.next=6,D.a.get("/api/searchbook/".concat(r));case 6:200===(s=e.sent).status?(a.setState({loading:!1}),a.setState({bookArray:s.data})):(a.setState({loading:!1}),a.setState({error:s.data.error}));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={bookSearch:"",error:null,bookArray:[],loading:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.bookSearch,n=t.error,s=t.bookArray,l=t.loading,o=""===a;return r.a.createElement("div",{className:"bookSearch"},n&&r.a.createElement("p",null,n),l?r.a.createElement(yt.BarLoader,{css:"\n    display: block;\n    margin: 0 auto;\n",sizeUnit:"px",height:4,width:200,color:"#36D7B7",loading:l}):r.a.createElement("div",null,r.a.createElement(Ne.a,{style:Ct,onSubmit:this.handleSubmit},r.a.createElement(Pe.a,null,r.a.createElement(Ue.a,{style:xt,htmlFor:"bookSearch",for:"text"}," ","Book to Search:"),r.a.createElement(Ae.a,{style:Bt,type:"text",name:"bookSearch",placeholder:"Enter a Book to Search",value:this.state.bookSearch,onChange:this.handleChange})),r.a.createElement(he.a,{color:"secondary",size:"lg",disabled:o,type:"submit"},"Search Book"))," "),s&&s.map(function(t,a){return r.a.createElement(Nt,{book:t,key:a,isAdmin:e.props.isAdmin,groupID:e.props.groupID,updatePage:e.props.updatePage})}))}}]),t}(n.Component),Nt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).getChapterCount=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt.fire({type:"info",input:"number",title:"How many chapters in ".concat(t,"?"),showCancelButton:!0,inputValidator:function(e){if(!e||e<=0)return"Please input a number above 0"}});case 2:n=e.sent,(r=n.value)&&a.addBookToGroup(r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.addBookToGroup=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(B.a)({},a.props.book),r=a.props,s=r.groupID,l=r.isAdmin,e.next=4,D.a.post("/api/addbook",{groupID:s,isAdmin:l,chosenBook:n});case 4:200===e.sent.status&&a.addTotalBenchmark(t,s,l,n.title);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.addTotalBenchmark=function(){var e=Object(u.a)(c.a.mark(function e(t,n,r,s){var l,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.put("/api/updatepagesetup",{totalCount:t,groupID:n,isAdmin:r});case 2:if(200!==e.sent.status){e.next=9;break}return e.next=6,kt.fire({type:"info",input:"number",title:"What's the group's first chapter goal?",showCancelButton:!0,inputValidator:function(e){if(!e||e<=0||e>t)return"Please input a number above 0 and below the total chapters"}});case 6:l=e.sent,o=l.value,a.addCurrentBenchmark(o,n,r,s);case 9:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),a.addCurrentBenchmark=function(){var e=Object(u.a)(c.a.mark(function e(t,n,r,s){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.put("/api/updatebenchmark",{nextBenchmark:t,groupID:n,isAdmin:r});case 2:200===e.sent.status&&(kt.fire({type:"success",title:"".concat(s," Added to Group!"),text:"Sending you back to the club page. Why not make a post about the new book?"}),a.props.updatePage("main"));case 4:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.book,a=t.title,n=t.authors,s=t.image,l=t.pageCount,o=t.publishedDate;return r.a.createElement(A.a,{sm:"6",style:wt},r.a.createElement(ce.a,{style:Ot},r.a.createElement(ue.a,{style:Dt},r.a.createElement(ie.a,{style:St},r.a.createElement("strong",null,a))),r.a.createElement(pe.a,{style:jt,top:!0,src:s,alt:a}),r.a.createElement(ue.a,{style:Dt},r.a.createElement(de.a,null,r.a.createElement("div",null,r.a.createElement("strong",null,"Author:"),r.a.createElement("br",null),n[0]),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",null,"Pages:")," ",l),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",null,"Date Published:")," ",o),r.a.createElement("br",null),r.a.createElement("button",{style:{width:"100px"},onClick:function(){return e.getChapterCount(a)}},"Read this Book")))))}}]),t}(n.Component),Pt=It,Ut=a(147),At=a.n(Ut),zt={fontSize:"25px"},Ft={fontSize:"20px"},Mt={title:"",text:"",error:null},Gt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.props,r=n.userID,s=n.groupID,l={title:a.state.title,text:a.state.text},e.next=5,D.a.post("/api/newpost",{userID:r,groupID:s,userPost:l});case 5:200===e.sent.status&&(a.props.getAllPosts(),a.setState(Object(B.a)({},Mt)));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state=Object(B.a)({},Mt),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.text,a=e.title,n=e.error,s=""===t||""===a;return r.a.createElement("div",null,r.a.createElement("br",null),n&&r.a.createElement("p",null,n.message),r.a.createElement(Ne.a,{style:zt,onSubmit:this.handleSubmit},r.a.createElement(Pe.a,null,r.a.createElement(Ue.a,{for:"text"},"Post Title"),r.a.createElement(Ae.a,{style:Ft,type:"text",name:"title",id:"exampleEmail",placeholder:"Your Post's Title",value:this.state.title,onChange:this.handleChange})),r.a.createElement(Pe.a,null,r.a.createElement(Ue.a,{for:"text"},"Post Body"),r.a.createElement(Ae.a,{style:Ft,type:"textarea",name:"text",id:"exampleText",placeholder:"Write your Post",value:this.state.text,onChange:this.handleChange})),r.a.createElement(he.a,{color:"secondary",size:"lg",disabled:s,type:"submit"},"Submit Post")))}}]),t}(n.Component),Lt=z(function(e){return!!e})(Gt),Vt=a(315),Tt={height:"50px",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundImage:"url(".concat(At.a,")"),marginTop:"10px",marginBottom:"-5px"},Wt={textAlign:"center",fontSize:"8px",marginBottom:"10px",marginTop:"-1px"},Rt={marginTop:"10px"},_t={borderStyle:"solid",borderWidth:"2px",backgroundColor:"#e9ecef",marginTop:"10px",marginBottom:"20px"},Jt={fontSize:"20px",textAlign:"center"},$t={fontSize:"12px"},Zt={width:"50%",height:"40px"},Yt={text:"",error:null,postArray:[]},qt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).getAllPosts=Object(u.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.groupID,e.next=3,D.a.get("/api/getallgrouppost/".concat(t));case 3:200===(n=e.sent).status&&a.setState({postArray:n.data});case 6:case"end":return e.stop()}},e)})),a.state=Object(B.a)({},Yt),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getAllPosts()}},{key:"componentDidUpdate",value:function(e){this.props.groupID!==e.groupID&&this.getAllPosts()}},{key:"render",value:function(){var e=this,t=this.state.postArray,a=this.props,n=a.userID,s=a.groupID;return r.a.createElement("div",null,r.a.createElement(Lt,{userID:this.props.userID,groupID:s,getAllPosts:this.getAllPosts}),r.a.createElement("h1",null,"Posts"),t.map(function(t){return r.a.createElement(Ht,{key:t._id,post:t,userID:n,getAllPosts:e.getAllPosts})}))}}]),t}(n.Component),Ht=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.getUsername()},a.getUsername=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/getuserbyid/".concat(a.props.post.user));case 2:200===(t=e.sent).status?a.setState({username:t.data.local.username}):a.setState({error:t.data});case 5:case"end":return e.stop()}},e)})),a.state={username:"",error:null,comment:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.username,t=this.props.post,a=t.title,n=t.text,s=t._id,l=t.comment,o=this.props.userID,c=new Date(this.props.post.date);return r.a.createElement("span",null,r.a.createElement("div",{style:_t},r.a.createElement("div",{style:Jt},r.a.createElement(U.a,null,r.a.createElement(A.a,{xs:"12"},r.a.createElement("strong",null," ",a," ")))),r.a.createElement("p",{style:$t},r.a.createElement("strong",null,e," : "),n),r.a.createElement("div",{style:Wt},r.a.createElement(U.a,null,r.a.createElement(A.a,{xs:"12"},c.toLocaleString()))),r.a.createElement("hr",null),l.map(function(e){return r.a.createElement(Kt,{key:e._id,comment:e})}),r.a.createElement(Xt,{postID:s,userID:o,getAllPosts:this.props.getAllPosts}),r.a.createElement("div",{style:Tt})))}}]),t}(n.Component),Kt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.getUsername()},a.getUsername=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/getuserbyid/".concat(a.props.comment.user));case 2:200===(t=e.sent).status?a.setState({username:t.data.local.username}):a.setState({error:t.data});case 5:case"end":return e.stop()}},e)})),a.state={username:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.username,t=this.props.comment.text,a=new Date(this.props.comment.date);return r.a.createElement(Vt.a,null,r.a.createElement("p",{style:$t},r.a.createElement("strong",null,e," : "),t),r.a.createElement("div",{style:Wt},r.a.createElement(U.a,null,r.a.createElement(A.a,{xs:"12"},a.toLocaleString()))),r.a.createElement("hr",null))}}]),t}(n.Component),Xt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=Object(u.a)(c.a.mark(function e(){var t,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.comment,n=a.props.userID,r=a.props.postID,e.next=5,D.a.post("/api/newcomment",{userID:n,postID:r,comment:t});case 5:200===e.sent.status&&(a.props.getAllPosts(),a.setState({comment:""}));case 7:case"end":return e.stop()}},e)})),a.handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.state={comment:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.comment,t=""===e;return r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement(A.a,{sm:{size:"5",offset:2}},r.a.createElement("input",{className:"form-input",style:Zt,type:"text",name:"comment",placeholder:"Add A Comment",value:e,onChange:this.handleChange})),r.a.createElement(A.a,{sm:{size:"2",offset:-3}},r.a.createElement(he.a,{style:Rt,color:"primary",disabled:t,onClick:this.handleSubmit},"Add Comment"))))}}]),t}(n.Component),Qt=z(function(e){return!!e})(qt),ea={marginBottom:"0px"},ta={nextBenchmark:"",totalBenchmark:"",error:null},aa={fontSize:"25px"},na={fontSize:"20px"},ra=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleCurrentSubmit=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=+a.state.nextBenchmark,r=a.props,s=r.groupID,l=r.isAdmin,e.prev=3,e.next=6,D.a.put("/api/updatebenchmark",{nextBenchmark:n,groupID:s,isAdmin:l});case 6:200===e.sent.status&&a.props.updatePage("main"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.setState({error:{message:"Moderator needed to update benchmark"}});case 13:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),a.handleTotalSubmit=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=+a.state.totalBenchmark,r=a.props,s=r.groupID,l=r.isAdmin,e.prev=3,e.next=6,D.a.put("/api/updatepagesetup",{totalCount:n,groupID:s,isAdmin:l});case 6:200===e.sent.status&&a.props.updatePage("main"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.setState({error:{message:"Moderator needed to update benchmark"}});case 13:case"end":return e.stop()}},e,null,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),a.state=Object(B.a)({},ta),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.nextBenchmark,a=e.totalBenchmark,n=e.error,s=""===t||t<0,l=""===a||a<0;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("br",null),n&&r.a.createElement("p",null,n.message),r.a.createElement(Ne.a,{style:aa,onSubmit:this.handleCurrentSubmit},r.a.createElement(Pe.a,null,r.a.createElement(Ue.a,{style:ea,htmlFor:"nextBenchmark",for:"text"}," Next Goal for Group:"),r.a.createElement(Ae.a,{style:na,type:"number",name:"nextBenchmark",id:"exampleEmail",placeholder:"What is the next goal for the group?",value:this.state.nextBenchmark,onChange:this.handleChange})),r.a.createElement(he.a,{color:"secondary",size:"lg",disabled:s,type:"submit"},"Submit Post"))),r.a.createElement("div",null,r.a.createElement("br",null),n&&r.a.createElement("p",null,n.message),r.a.createElement(Ne.a,{style:aa,onSubmit:this.handleTotalSubmit},r.a.createElement(Pe.a,null,r.a.createElement(Ue.a,{style:ea,htmlFor:"totalBenchmark",for:"text"}," Update Total Benchmarks / Chapters:"),r.a.createElement(Ae.a,{style:na,type:"number",name:"totalBenchmark",id:"exampleEmail",placeholder:"What is the total benchmarks or chapters of this book?",value:this.state.totalBenchmark,onChange:this.handleChange})),r.a.createElement(he.a,{color:"secondary",size:"lg",disabled:l,type:"submit"},"Update Total"))))}}]),t}(n.Component),sa=z(function(e){return!!e})(ra),la=Ie()(Ce.a),oa={marginBottom:"0px"},ca={fontSize:"25px"},ua={fontSize:"20px"},ia=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,s,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.userSearch,s=n.searchSelect,e.next=4,D.a.get("/api/usersearch/".concat(r,"/").concat(s));case 4:l=e.sent,a.setState({userArray:l.data});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={userSearch:"",error:null,userArray:[],searchSelect:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.userSearch,n=t.error,s=t.userArray,l=t.searchSelect,o=""===a||""===l;return r.a.createElement("div",null,n&&r.a.createElement("p",null,n),r.a.createElement(Ne.a,{style:ca,onSubmit:this.handleSubmit},r.a.createElement(Pe.a,null,r.a.createElement(Ue.a,{style:oa,for:"text"}," Search By:"),r.a.createElement(Ae.a,{style:ua,type:"select",name:"searchSelect",id:"searchSelection",value:this.state.searchSelect,onChange:this.handleChange},r.a.createElement("option",{value:""}," "),r.a.createElement("option",{value:"email"},"Email"),r.a.createElement("option",{value:"username"},"Username"))),r.a.createElement(Pe.a,null,r.a.createElement(Ue.a,{style:oa,htmlFor:"userSearch",for:"text"}," Search Users:"),r.a.createElement(Ae.a,{style:ua,type:"text",name:"userSearch",id:"exampleEmail",placeholder:"Search User",value:this.state.userSearch,onChange:this.handleChange})),r.a.createElement(he.a,{color:"secondary",size:"lg",disabled:o,type:"submit"},"Search User")),s&&s.map(function(t,a){return r.a.createElement(ma,{user:t,key:a,isAdmin:e.props.isAdmin,groupID:e.props.groupID,updatePage:e.props.updatePage})}))}}]),t}(n.Component),ma=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).addUserToGroup=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r,s,l,o,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.isAdmin,s=n.groupID,l=a.props.user,o=l.userID,u=l.username,e.next=4,D.a.put("/api/addusertogroup",{isAdmin:r,groupID:s,userID:o});case 4:200===e.sent.status&&(la.fire({type:"success",title:"".concat(u," Added!"),text:"Sending you back to the club page"}),a.props.updatePage("main"));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.isAdmin,t=this.props.user,a=t.email,n=t.username;return r.a.createElement("div",{className:"userCard"},r.a.createElement("div",null,"Email: ",a),r.a.createElement("div",null,"Username: ",n),e&&r.a.createElement("button",{className:"btn btn-primary",onClick:this.addUserToGroup},"Add User To Group"))}}]),t}(n.Component),pa=ia,da=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/getuserbyid/".concat(a.props.userID));case 2:200===(t=e.sent).status?a.setState({username:t.data.local.username}):a.setState({error:t.data});case 4:case"end":return e.stop()}},e)})),a.state={username:"",error:null},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.username)}}]),t}(n.Component),ha=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Group Members"),r.a.createElement("div",null,e.userlist.map(function(e,t){return r.a.createElement(N.a,{to:"/user/".concat(e._id),key:t},r.a.createElement(da,{userID:e._id,key:e._id}))})),r.a.createElement("br",null))},ga={fontSize:"17px"},ba=function(e){return r.a.createElement("div",{align:"center"},"Admin Panel",r.a.createElement("hr",null),r.a.createElement(he.a,{outline:!0,color:"primary",style:ga,onClick:function(){return e.updatePage("main")}},"Show Club Page"),r.a.createElement(he.a,{outline:!0,color:"primary",style:ga,onClick:function(){return e.updatePage("updateBook")}},"Update Book"),r.a.createElement(he.a,{outline:!0,color:"primary",style:ga,onClick:function(){return e.updatePage("addUser")}},"Add User"))},fa={groupID:0,groupName:"",groupDescription:"",userlist:[],currentBook:"",pastBook:[],currentBenchmark:0,previousBenchmark:[],totalBenchmark:0,isAdmin:!1,error:null,showMainPage:!0,updateBook:!1,addUser:!1},Ea={textAlign:"center",fontSize:"25px",border:"1px double #000000",padding:"10px",marginBottom:"50px"},va={textAlign:"center",fontSize:"50px",padding:"10px",marginBottom:"30px"},ya={fontSize:"30px",padding:"10px",marginBottom:"50px",textAlign:"center"},ka=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).getGroupData=function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/getgroupdata/".concat(t));case 2:200===(n=e.sent).status?a.setState({groupID:n.data._id,groupName:n.data.name,groupDescription:n.data.description,userlist:n.data.userlist,currentBook:n.data.currentBook,pastBook:n.data.pastBook,currentBenchmark:n.data.currentBenchmark,previousBenchmark:n.data.previousBenchmark,totalBenchmark:n.data.totalBenchmark},function(){a.props.userID&&a.checkAdmin()}):a.setState({error:n.data.error});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.checkAdmin=function(){var e=a.state.userlist,t=a.props.userID;e.filter(function(e){return e._id===t})[0].isAdmin&&a.setState({isAdmin:!0})},a.updatePage=function(e){switch(e){case"main":a.setState({showMainPage:!0,updateBook:!1,addUser:!1}),a.getGroupData(a.state.groupID);break;case"updateBook":a.setState({showMainPage:!1,updateBook:!0,addUser:!1}),a.getGroupData(a.state.groupID);break;case"addUser":a.setState({showMainPage:!1,updateBook:!1,addUser:!0}),a.getGroupData(a.state.groupID)}},a.state=Object(B.a)({},fa),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.groupID;"undefined"!==typeof e&&this.getGroupData(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.userID!==e.userID){var t=this.props.match.params.groupID;this.getGroupData(t)}}},{key:"render",value:function(){var e=this.state,t=e.groupID,a=e.groupName,s=e.groupDescription,l=e.userlist,o=e.currentBook,c=e.currentBenchmark,u=e.totalBenchmark,i=e.error,m=e.isAdmin,p=e.showMainPage,d=e.updateBook,h=e.addUser,g=this.props.userID;return r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement(A.a,{xs:"6"},i&&r.a.createElement("p",null,i.message),m&&r.a.createElement("div",{style:Ea},r.a.createElement(ba,{updatePage:this.updatePage})),r.a.createElement("div",{style:ya},o&&r.a.createElement(vt,{currentBook:o,currentBenchmark:c,totalBenchmark:u}),r.a.createElement("div",null,r.a.createElement(ha,{userlist:l})))),r.a.createElement(A.a,{xs:"6"},r.a.createElement("div",{style:va},r.a.createElement(xa,{groupName:a,groupDescription:s})),p&&r.a.createElement(n.Fragment,null,r.a.createElement(Qt,{groupID:t,userID:g})),d&&r.a.createElement(n.Fragment,null,r.a.createElement(sa,{isAdmin:m,groupID:t,updatePage:this.updatePage}),r.a.createElement(Pt,{groupID:t,isAdmin:m,updatePage:this.updatePage})),h&&r.a.createElement(pa,{groupID:t,isAdmin:m,updatePage:this.updatePage}))))}}]),t}(n.Component),xa=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("strong",null,e.groupName),r.a.createElement("br",null),r.a.createElement("h3",null,e.groupDescription))},wa=z(function(e){return!!e})(ka),Oa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).isSignedIn=function(){var e=Object(u.a)(c.a.mark(function e(t){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/getuser/".concat(t));case 2:n=e.sent,r={username:n.data.local.username,userID:n.data._id,grouplist:n.data.grouplist},a.setState({currentUser:r});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={authUser:null,currentUser:{}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?(e.setState({authUser:t}),e.isSignedIn(t.email)):e.setState({authUser:null,currentUser:{}})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var e=this,t=this.state.currentUser.grouplist;return r.a.createElement(b.a,null,r.a.createElement("div",null,r.a.createElement(et,{authUser:this.state.authUser}),r.a.createElement(f.a,{exact:!0,path:g,render:function(){return r.a.createElement(Se,{grouplist:t})}}),r.a.createElement(f.a,{path:"/signin",render:function(){return r.a.createElement(H,null)}}),r.a.createElement(f.a,{path:"/signup",render:function(){return r.a.createElement(se,null)}}),r.a.createElement(f.a,{path:"/passwordreset",render:function(){return r.a.createElement(V,null)}}),r.a.createElement(f.a,{path:"/passwordchange",render:function(){return r.a.createElement(st,null)}}),r.a.createElement(f.a,{path:"/userprofile",render:function(){return r.a.createElement(dt,null)}}),r.a.createElement(f.a,{path:"/creategroup",render:function(){return r.a.createElement(Re,{userID:e.state.currentUser.userID})}}),r.a.createElement(f.a,{path:"/group/:groupID",render:function(){return r.a.createElement(wa,{userID:e.state.currentUser.userID})}}),r.a.createElement(f.a,{path:"/user/:userID",render:function(){return r.a.createElement(dt,{userID:e.state.currentUser.userID})}})))}}]),t}(n.Component),ja=v(Oa);a(295);l.a.render(r.a.createElement(y.Provider,{value:new j},r.a.createElement(ja,null)),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.d50f192a.chunk.js.map